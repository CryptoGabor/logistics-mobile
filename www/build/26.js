webpackJsonp([26],{449:function(l,n,u){"use strict";function e(l){return a._27(0,[(l()(),a._4(0,0,null,null,10,"ion-item",[["class","error-message item item-block"],["flex-wide",""],["no-lines",""]],null,null,null,V.b,V.a)),a._3(1,1097728,null,3,E.a,[x.a,F.a,a.k,a.E,[2,P.a]],null,null),a._23(335544320,1,{contentLabel:0}),a._23(603979776,2,{_buttons:1}),a._23(603979776,3,{_icons:1}),a._3(5,16384,null,0,M.a,[],null,null),(l()(),a._25(-1,2,["\n                        *"])),(l()(),a._4(7,0,null,2,2,"span",[["translate",""]],null,null,null,null,null)),a._3(8,8536064,null,0,B.e,[B.k,a.k,a.g],{translate:[0,"translate"]},null),(l()(),a._25(-1,null,["form.confirmMobileError"])),(l()(),a._25(-1,2,["\n                    "]))],function(l,n){l(n,8,0,"")},null)}function t(l){return a._27(0,[(l()(),a._4(0,0,null,null,71,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,t=l.component;if("submit"===n){e=!1!==a._18(l,2).onSubmit(u)&&e}if("reset"===n){e=!1!==a._18(l,2).onReset()&&e}if("ngSubmit"===n){e=!1!==t.processVerifyMobile(t.mobileVerificationForm)&&e}return e},null,null)),a._3(1,16384,null,0,s.u,[],null,null),a._3(2,540672,null,0,s.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),a._22(2048,null,s.b,null,[s.h]),a._3(4,16384,null,0,s.o,[s.b],null,null),(l()(),a._25(-1,null,["\n            "])),(l()(),a._4(6,0,null,null,64,"div",[["align-items-start",""],["class","success-box"],["flex",""],["flex-wide",""],["flex-wrap",""],["justify-center",""]],null,null,null,null,null)),(l()(),a._25(-1,null,["\n                "])),(l()(),a._4(8,0,null,null,4,"div",[["class","success-icon"],["flex-wide",""]],null,null,null,null,null)),(l()(),a._25(-1,null,["\n                    "])),(l()(),a._25(-1,null,["\n                    "])),(l()(),a._4(11,0,null,null,0,"img",[["src","assets/images/mobile_icon.png"],["width","60px"]],null,null,null,null,null)),(l()(),a._25(-1,null,["\n                "])),(l()(),a._25(-1,null,["\n\n                "])),(l()(),a._4(14,0,null,null,5,"div",[["class","success-title"],["flex-wide",""]],null,null,null,null,null)),(l()(),a._25(-1,null,["\n                    "])),(l()(),a._4(16,0,null,null,2,"span",[["translate",""]],null,null,null,null,null)),a._3(17,8536064,null,0,B.e,[B.k,a.k,a.g],{translate:[0,"translate"]},null),(l()(),a._25(-1,null,["form.confirmMobileTitle"])),(l()(),a._25(-1,null,["\n                "])),(l()(),a._25(-1,null,["\n                "])),(l()(),a._4(21,0,null,null,48,"div",[["class","success-message"],["flex",""],["flex-wrap",""],["justify-center",""],["padding",""]],null,null,null,null,null)),(l()(),a._25(-1,null,["\n                  "])),(l()(),a._4(23,0,null,null,2,"span",[["flex-wide",""],["translate",""]],null,null,null,null,null)),a._3(24,8536064,null,0,B.e,[B.k,a.k,a.g],{translate:[0,"translate"]},null),(l()(),a._25(-1,null,["\n                    form.confirmMobileMessage\n                  "])),(l()(),a._25(-1,null,["\n\n                    "])),(l()(),a._4(27,0,null,null,29,"div",[["class","signup-input"],["flex",""],["justify-center",""]],[[2,"invalid",null]],null,null,null,null)),(l()(),a._25(-1,null,["\n                        "])),(l()(),a._4(29,0,null,null,5,"input",[["formControlName","code"],["placeholder","Mobile Code"],["type","text"]],[[2,"invalid",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;if("input"===n){e=!1!==a._18(l,30)._handleInput(u.target.value)&&e}if("blur"===n){e=!1!==a._18(l,30).onTouched()&&e}if("compositionstart"===n){e=!1!==a._18(l,30)._compositionStart()&&e}if("compositionend"===n){e=!1!==a._18(l,30)._compositionEnd(u.target.value)&&e}return e},null,null)),a._3(30,16384,null,0,s.c,[a.F,a.k,[2,s.a]],null,null),a._22(1024,null,s.l,function(l){return[l]},[s.c]),a._3(32,671744,null,0,s.f,[[3,s.b],[8,null],[8,null],[2,s.l]],{name:[0,"name"]},null),a._22(2048,null,s.m,null,[s.f]),a._3(34,16384,null,0,s.n,[s.m],null,null),(l()(),a._25(-1,null,["\n                        "])),(l()(),a._4(36,0,null,null,5,"input",[["formControlName","email"],["hidden",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;if("input"===n){e=!1!==a._18(l,37)._handleInput(u.target.value)&&e}if("blur"===n){e=!1!==a._18(l,37).onTouched()&&e}if("compositionstart"===n){e=!1!==a._18(l,37)._compositionStart()&&e}if("compositionend"===n){e=!1!==a._18(l,37)._compositionEnd(u.target.value)&&e}return e},null,null)),a._3(37,16384,null,0,s.c,[a.F,a.k,[2,s.a]],null,null),a._22(1024,null,s.l,function(l){return[l]},[s.c]),a._3(39,671744,null,0,s.f,[[3,s.b],[8,null],[8,null],[2,s.l]],{name:[0,"name"]},null),a._22(2048,null,s.m,null,[s.f]),a._3(41,16384,null,0,s.n,[s.m],null,null),(l()(),a._25(-1,null,["\n                        "])),(l()(),a._4(43,0,null,null,5,"input",[["formControlName","username"],["hidden",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;if("input"===n){e=!1!==a._18(l,44)._handleInput(u.target.value)&&e}if("blur"===n){e=!1!==a._18(l,44).onTouched()&&e}if("compositionstart"===n){e=!1!==a._18(l,44)._compositionStart()&&e}if("compositionend"===n){e=!1!==a._18(l,44)._compositionEnd(u.target.value)&&e}return e},null,null)),a._3(44,16384,null,0,s.c,[a.F,a.k,[2,s.a]],null,null),a._22(1024,null,s.l,function(l){return[l]},[s.c]),a._3(46,671744,null,0,s.f,[[3,s.b],[8,null],[8,null],[2,s.l]],{name:[0,"name"]},null),a._22(2048,null,s.m,null,[s.f]),a._3(48,16384,null,0,s.n,[s.m],null,null),(l()(),a._25(-1,null,["\n                        "])),(l()(),a._4(50,0,null,null,5,"input",[["formControlName","password"],["hidden",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;if("input"===n){e=!1!==a._18(l,51)._handleInput(u.target.value)&&e}if("blur"===n){e=!1!==a._18(l,51).onTouched()&&e}if("compositionstart"===n){e=!1!==a._18(l,51)._compositionStart()&&e}if("compositionend"===n){e=!1!==a._18(l,51)._compositionEnd(u.target.value)&&e}return e},null,null)),a._3(51,16384,null,0,s.c,[a.F,a.k,[2,s.a]],null,null),a._22(1024,null,s.l,function(l){return[l]},[s.c]),a._3(53,671744,null,0,s.f,[[3,s.b],[8,null],[8,null],[2,s.l]],{name:[0,"name"]},null),a._22(2048,null,s.m,null,[s.f]),a._3(55,16384,null,0,s.n,[s.m],null,null),(l()(),a._25(-1,null,["\n                    "])),(l()(),a._25(-1,null,["\n                    "])),(l()(),a.Z(16777216,null,null,1,null,e)),a._3(59,16384,null,0,c.j,[a.N,a.K],{ngIf:[0,"ngIf"]},null),(l()(),a._25(-1,null,["\n\n                    "])),(l()(),a._4(61,0,null,null,7,"div",[["center",""],["class","button-separator"],["flex",""],["flex-one",""]],null,null,null,null,null)),(l()(),a._25(-1,null,["\n                        "])),(l()(),a._4(63,0,null,null,4,"button",[["bold",""],["color","lwf-orange"],["ion-button",""],["orange",""],["type","submit"]],null,null,null,S.b,S.a)),a._3(64,1097728,null,0,T.a,[[8,""],F.a,a.k,a.E],{color:[0,"color"]},null),(l()(),a._4(65,0,null,0,2,"span",[["translate",""]],null,null,null,null,null)),a._3(66,8536064,null,0,B.e,[B.k,a.k,a.g],{translate:[0,"translate"]},null),(l()(),a._25(-1,null,["buttons.submit"])),(l()(),a._25(-1,null,["\n                    "])),(l()(),a._25(-1,null,["\n                "])),(l()(),a._25(-1,null,["\n            "])),(l()(),a._25(-1,null,["\n        "]))],function(l,n){var u=n.component;l(n,2,0,u.mobileVerificationForm);l(n,17,0,"");l(n,24,0,"");l(n,32,0,"code");l(n,39,0,"email");l(n,46,0,"username");l(n,53,0,"password");l(n,59,0,u.mobileVerificationForm.controls.code.invalid&&u.mobileVerificationForm.controls.code.touched);l(n,64,0,"lwf-orange");l(n,66,0,"")},function(l,n){var u=n.component;l(n,0,0,a._18(n,4).ngClassUntouched,a._18(n,4).ngClassTouched,a._18(n,4).ngClassPristine,a._18(n,4).ngClassDirty,a._18(n,4).ngClassValid,a._18(n,4).ngClassInvalid,a._18(n,4).ngClassPending);l(n,27,0,u.mobileVerificationForm.controls.code.invalid&&u.mobileVerificationForm.controls.code.touched);l(n,29,0,u.mobileVerificationForm.controls.code.invalid&&u.mobileVerificationForm.controls.code.touched,a._18(n,34).ngClassUntouched,a._18(n,34).ngClassTouched,a._18(n,34).ngClassPristine,a._18(n,34).ngClassDirty,a._18(n,34).ngClassValid,a._18(n,34).ngClassInvalid,a._18(n,34).ngClassPending);l(n,36,0,a._18(n,41).ngClassUntouched,a._18(n,41).ngClassTouched,a._18(n,41).ngClassPristine,a._18(n,41).ngClassDirty,a._18(n,41).ngClassValid,a._18(n,41).ngClassInvalid,a._18(n,41).ngClassPending);l(n,43,0,a._18(n,48).ngClassUntouched,a._18(n,48).ngClassTouched,a._18(n,48).ngClassPristine,a._18(n,48).ngClassDirty,a._18(n,48).ngClassValid,a._18(n,48).ngClassInvalid,a._18(n,48).ngClassPending);l(n,50,0,a._18(n,55).ngClassUntouched,a._18(n,55).ngClassTouched,a._18(n,55).ngClassPristine,a._18(n,55).ngClassDirty,a._18(n,55).ngClassValid,a._18(n,55).ngClassInvalid,a._18(n,55).ngClassPending)})}function i(l){return a._27(0,[(l()(),a._4(0,0,null,null,8,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,I.b,I.a)),a._3(1,4374528,null,0,A.a,[F.a,R.a,j.a,a.k,a.E,K.a,N.a,a.x,[2,O.a],[2,q.a]],null,null),(l()(),a._25(-1,1,["\n    "])),(l()(),a._4(3,0,null,0,4,"div",[["center",""],["flex",""],["ion-fixed",""],["tall",""],["text-center",""]],null,null,null,null,null)),(l()(),a._25(-1,null,["\n        "])),(l()(),a.Z(16777216,null,null,1,null,t)),a._3(6,16384,null,0,c.j,[a.N,a.K],{ngIf:[0,"ngIf"]},null),(l()(),a._25(-1,null,["\n    "])),(l()(),a._25(-1,1,["\n"])),(l()(),a._25(-1,null,["\n"]))],function(l,n){l(n,6,0,n.component.profile)},function(l,n){l(n,0,0,a._18(n,1).statusbarPadding,a._18(n,1)._hasRefresher)})}Object.defineProperty(n,"__esModule",{value:!0});var a=u(0),o=u(2),r=(u(15),u(145)),s=u(20),c=u(14),_=u(43),d=u(466),m=function(){function l(l,n,u,e,t,i){this.navCtrl=l,this.navParams=n,this.authService=u,this.loadingCtrl=e,this.platform=t,this.datePipe=new c.d(i),this.blockBackButton()}return l.prototype.ionViewDidLoad=function(){this.username=this.navParams.get("username"),this.password=this.navParams.get("password"),this.email=this.navParams.get("email"),this.profile=this.navParams.get("profile"),this.initMobileVerificationForm(this.email,this.username,this.password)},l.prototype.ionViewWillLeave=function(){try{this.unregisterBackButtonAction&&this.unregisterBackButtonAction()}catch(l){}},l.prototype.blockBackButton=function(){this.unregisterBackButtonAction=this.platform.registerBackButtonAction(function(){},10)},l.prototype.processVerifyMobile=function(l){var n=this,u=l.value,e=l.valid,t=this.loadingCtrl.create();d.a.validateAllFormFields(this.mobileVerificationForm),e&&(t.present(),this.authService.verifyMobileNumber(u).then(function(l){l.success?n.authService.login({username:n.username,password:n.password}).then(function(l){var u=n.navCtrl.getActive().index;n.navCtrl.push("WelcomePage").then(function(){n.navCtrl.remove(u)}),t.dismiss()}):(n.mobileVerificationForm.controls.code.setErrors({backend:{code:"Verification code mismatch!"}}),t.dismiss())}).catch(function(l){console.log(l),t.dismiss()}))},l.prototype.initMobileVerificationForm=function(l,n,u){this.mobileVerificationForm=new s.g({code:new s.e("",[s.r.required,s.r.minLength(4),s.r.maxLength(4)]),email:new s.e(l,[s.r.required]),username:new s.e(n,[s.r.required]),password:new s.e(u,[s.r.required])})},l.prototype.gotoHome=function(){this.navCtrl.push("HomeTabs")},l.prototype.gotoAccountVerification=function(){this.navCtrl.push("AccountVerificationPage")},l=Object(o.__decorate)([Object(o.__param)(5,Object(a.n)(a.u))],l)}(),g=function(){return function(){}}(),f=u(367),v=u(368),p=u(369),h=u(370),b=u(371),C=u(372),w=u(373),y=u(374),k=u(375),V=u(149),E=u(18),x=u(16),F=u(3),P=u(45),M=u(63),B=u(48),S=u(41),T=u(21),I=u(376),A=u(24),R=u(5),j=u(11),K=u(10),N=u(29),O=u(6),q=u(23),D=u(12),L=u(64),U=a._2({encapsulation:2,styles:[],data:{}}),W=a._0("page-mobile-verification",m,function(l){return a._27(0,[(l()(),a._4(0,0,null,null,1,"page-mobile-verification",[],null,null,null,i,U)),a._3(1,49152,null,0,m,[q.a,D.a,_.a,L.a,R.a,a.u],null,null)],null,null)},{},{},[]),H=u(25),Z=u(147),J=u(44);u.d(n,"MobileVerificationPageModuleNgFactory",function(){return X});var X=a._1(g,[],function(l){return a._15([a._16(512,a.i,a.X,[[8,[f.a,v.a,p.a,h.a,b.a,C.a,w.a,y.a,k.a,W]],[3,a.i],a.v]),a._16(4608,c.l,c.k,[a.u,[2,c.t]]),a._16(4608,s.v,s.v,[]),a._16(4608,s.d,s.d,[]),a._16(5120,B.g,r.b,[H.c]),a._16(4608,B.c,B.f,[]),a._16(4608,B.i,B.d,[]),a._16(4608,B.b,B.a,[]),a._16(4608,B.k,B.k,[B.n,B.g,B.c,B.i,B.b,B.l,B.m]),a._16(512,c.b,c.b,[]),a._16(512,s.s,s.s,[]),a._16(512,s.i,s.i,[]),a._16(512,s.q,s.q,[]),a._16(512,Z.a,Z.a,[]),a._16(512,Z.b,Z.b,[]),a._16(512,B.h,B.h,[]),a._16(512,r.a,r.a,[]),a._16(512,g,g,[]),a._16(256,B.m,void 0,[]),a._16(256,B.l,void 0,[]),a._16(256,J.a,m,[])])})},466:function(l,n,u){"use strict";u.d(n,"a",function(){return t});var e=u(20),t=function(){function l(){}return l.passwordMatchValidator=function(l){var n=l.get("password"),u=l.get("confirmPassword"),e=n&&u&&n.value===u.value;return e||(n.setErrors({mismatch:!0}),u.setErrors({mismatch:!0})),e?null:{mismatch:!0}},l.changePasswordMatchValidator=function(l){var n=l.get("newPassword"),u=l.get("newPasswordConfirm"),e=n&&u&&n.value===u.value;return e||(n.setErrors({mismatch:!0}),u.setErrors({mismatch:!0})),e?null:{mismatch:!0}},l.noWhitespaceValidator=function(l){return!(l.value.search(" ")>-1)?null:{whitespace:!0}},l.validateAllFormFields=function(l){var n=this;Object.keys(l.controls).forEach(function(u){var t=l.get(u);t instanceof e.e?t.markAsTouched({onlySelf:!0}):t instanceof e.g&&n.validateAllFormFields(t)})},l.boxesValidator=function(l){var n=!1,u=l.get("numberOfSmallBoxes"),e=l.get("numberOfMediumBoxes"),t=l.get("numberOfLargeBoxes");return 0!==u.value&&"0"!==u.value&&null!==u.value&&""!==u.value||0!==e.value&&"0"!==e.value&&null!==e.value&&""!==e.value||0!==t.value&&"0"!==t.value&&null!==t.value&&""!==t.value||(n=!0),n?{boxesError:!0}:null},l.timeSlotsValidator=function(l){var n=!1,u=l.get("pickupFrom"),e=l.get("pickupTo"),t=l.get("deliveryFrom"),i=l.get("deliveryTo");return""!=u.value&&""!=e.value&&""!=t.value&&""!=i.value||(n=!0),n?{timeError:!0}:null},l.priceRangeValidator=function(l){var n=!1,u=l.get("enableRange10Km"),e=l.get("enableRange20Km"),t=l.get("enableRange50Km"),i=l.get("enableRangeMore50Km"),a=l.get("priceRange10Km"),o=l.get("priceRange20Km"),r=l.get("priceRange50Km"),s=l.get("priceRangeMore50Km");return a.setErrors(null),o.setErrors(null),r.setErrors(null),s.setErrors(null),(u.value&&0==a.value||!u.value&&0!=a.value)&&(a.setErrors({valueError:!0}),n=!0),(e.value&&0==o.value||!e.value&&0!=o.value)&&(o.setErrors({valueError:!0}),n=!0),(t.value&&0==r.value||!t.value&&0!=r.value)&&(r.setErrors({valueError:!0}),n=!0),(i.value&&0==s.value||!i.value&&0!=s.value)&&(s.setErrors({valueError:!0}),n=!0),u.value||e.value||t.value||i.value||(a.setErrors({required:!0}),n=!0),n?{priceError:!0}:null},l}()}});