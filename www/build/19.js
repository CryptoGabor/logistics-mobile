webpackJsonp([19],{443:function(l,n,u){"use strict";function t(l){return r._27(0,[(l()(),r._4(0,0,null,null,3,"ion-col",[["class","col-title col"],["col-4",""],["translate",""]],null,null,null,null,null)),r._3(1,16384,null,0,D.a,[],null,null),r._3(2,8536064,null,0,O.e,[O.k,r.k,r.g],{translate:[0,"translate"]},null),(l()(),r._25(-1,null,["common.customer"]))],function(l,n){l(n,2,0,"")},null)}function e(l){return r._27(0,[(l()(),r._4(0,0,null,null,3,"ion-col",[["class","col-title col"],["col-4",""],["translate",""]],null,null,null,null,null)),r._3(1,16384,null,0,D.a,[],null,null),r._3(2,8536064,null,0,O.e,[O.k,r.k,r.g],{translate:[0,"translate"]},null),(l()(),r._25(-1,null,["common.courier"]))],function(l,n){l(n,2,0,"")},null)}function a(l){return r._27(0,[(l()(),r._4(0,0,null,null,23,"ion-row",[["align-items-center",""],["class","row"],["justify-content-around",""]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.orderDetailModal(l.context.$implicit.id)&&t}return t},null,null)),r._3(1,16384,null,0,x.a,[],null,null),(l()(),r._25(-1,null,["\n                "])),(l()(),r._4(3,0,null,null,2,"ion-col",[["class","col"],["col-2",""]],null,null,null,null,null)),r._3(4,16384,null,0,D.a,[],null,null),(l()(),r._25(5,null,["",""])),(l()(),r._25(-1,null,["\n                "])),(l()(),r._4(7,0,null,null,2,"ion-col",[["class","col"],["col-4",""]],null,null,null,null,null)),r._3(8,16384,null,0,D.a,[],null,null),(l()(),r._25(9,null,["",""])),(l()(),r._25(-1,null,["\n                "])),(l()(),r._4(11,0,null,null,2,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),r._3(12,16384,null,0,D.a,[],null,null),(l()(),r._25(13,null,["","BC"])),(l()(),r._25(-1,null,["\n                "])),(l()(),r._4(15,0,null,null,7,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),r._3(16,278528,null,0,I.h,[r.s,r.t,r.k,r.F],{ngClass:[0,"ngClass"]},null),r._3(17,16384,null,0,D.a,[],null,null),(l()(),r._25(-1,null,["\n                    "])),(l()(),r._4(19,0,null,null,2,"ion-icon",[["role","img"]],[[2,"hide",null]],null,null,null,null)),r._3(20,147456,null,0,w.a,[F.a,r.k,r.E],{name:[0,"name"]},null),(l()(),r._25(-1,null,["\n                    "])),(l()(),r._25(-1,null,["\n                "])),(l()(),r._25(-1,null,["\n            "]))],function(l,n){l(n,16,0,"DELIVERED"===n.context.$implicit.state?"order-status-delivered":"order-status-not-delivered");l(n,20,0,r._7(1,"","DELIVERED"===n.context.$implicit.state?"md-checkmark-circle":"md-close-circle",""))},function(l,n){var u=n.component;l(n,5,0,n.context.$implicit.id);l(n,9,0,u.isCourier()?n.context.$implicit.buyer.user.username:n.context.$implicit.courier.user.username);l(n,13,0,n.context.$implicit.priceRange);l(n,19,0,r._18(n,20)._hidden)})}function o(l){return r._27(0,[(l()(),r._4(0,0,null,null,22,"ion-header",[],null,null,null,null,null)),r._3(1,16384,null,0,S.a,[F.a,r.k,r.E,[2,L.a]],null,null),(l()(),r._25(-1,null,["\n    "])),(l()(),r._4(3,0,null,null,18,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,P.b,P.a)),r._3(4,49152,null,0,R.a,[V.a,[2,L.a],[2,$.a],F.a,r.k,r.E],null,null),(l()(),r._25(-1,3,["\n        "])),(l()(),r._4(6,0,null,3,4,"ion-title",[],null,null,null,j.b,j.a)),r._3(7,49152,null,0,N.a,[F.a,r.k,r.E,[2,T.a],[2,R.a]],null,null),(l()(),r._4(8,0,null,0,2,"span",[["translate",""]],null,null,null,null,null)),r._3(9,8536064,null,0,O.e,[O.k,r.k,r.g],{translate:[0,"translate"]},null),(l()(),r._25(-1,null,["orderHistory.title"])),(l()(),r._25(-1,3,["\n        "])),(l()(),r._4(12,0,null,0,8,"button",[["ion-button",""],["menuToggle",""],["right",""]],[[8,"hidden",0]],[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==r._18(l,14).toggle()&&t}return t},H.b,H.a)),r._3(13,1097728,[[1,4]],0,M.a,[[8,""],F.a,r.k,r.E],null,null),r._3(14,1064960,null,0,B.a,[K.a,[2,L.a],[2,M.a],[2,R.a]],{menuToggle:[0,"menuToggle"]},null),r._3(15,16384,null,1,U.a,[F.a,r.k,r.E,[2,T.a],[2,R.a]],null,null),r._23(603979776,1,{_buttons:1}),(l()(),r._25(-1,0,["\n            "])),(l()(),r._4(18,0,null,0,1,"ion-icon",[["name","menu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),r._3(19,147456,null,0,w.a,[F.a,r.k,r.E],{name:[0,"name"]},null),(l()(),r._25(-1,0,["\n        "])),(l()(),r._25(-1,3,["\n    "])),(l()(),r._25(-1,null,["\n\n"])),(l()(),r._25(-1,null,["\n"])),(l()(),r._4(24,0,null,null,36,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Z.b,Z.a)),r._3(25,4374528,null,0,q.a,[F.a,A.a,J.a,r.k,r.E,V.a,X.a,r.x,[2,L.a],[2,$.a]],null,null),(l()(),r._25(-1,1,["\n    "])),(l()(),r._4(27,0,null,1,32,"div",[["class","inner-container"],["flex",""],["flex-wrap",""],["wide",""]],null,null,null,null,null)),(l()(),r._25(-1,null,["\n        "])),(l()(),r._4(29,0,null,null,29,"ion-grid",[["class","grid"]],null,null,null,null,null)),r._3(30,16384,null,0,z.a,[],null,null),(l()(),r._25(-1,null,["\n            "])),(l()(),r._4(32,0,null,null,22,"ion-row",[["class","header-row row"],["justify-center",""],["justify-content-around",""]],null,null,null,null,null)),r._3(33,16384,null,0,x.a,[],null,null),(l()(),r._25(-1,null,["\n                "])),(l()(),r._4(35,0,null,null,2,"ion-col",[["class","col-title col"],["col-2",""]],null,null,null,null,null)),r._3(36,16384,null,0,D.a,[],null,null),(l()(),r._25(-1,null,["ID"])),(l()(),r._25(-1,null,["\n                "])),(l()(),r.Z(16777216,null,null,1,null,t)),r._3(40,16384,null,0,I.j,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(l()(),r._25(-1,null,["\n                "])),(l()(),r.Z(16777216,null,null,1,null,e)),r._3(43,16384,null,0,I.j,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(l()(),r._25(-1,null,["\n                "])),(l()(),r._4(45,0,null,null,3,"ion-col",[["class","col-title col"],["col-3",""],["translate",""]],null,null,null,null,null)),r._3(46,16384,null,0,D.a,[],null,null),r._3(47,8536064,null,0,O.e,[O.k,r.k,r.g],{translate:[0,"translate"]},null),(l()(),r._25(-1,null,["common.price"])),(l()(),r._25(-1,null,["\n                "])),(l()(),r._4(50,0,null,null,3,"ion-col",[["class","col-title col"],["col-3",""],["translate",""]],null,null,null,null,null)),r._3(51,16384,null,0,D.a,[],null,null),r._3(52,8536064,null,0,O.e,[O.k,r.k,r.g],{translate:[0,"translate"]},null),(l()(),r._25(-1,null,["orderHistory.status"])),(l()(),r._25(-1,null,["\n            "])),(l()(),r._25(-1,null,["\n            "])),(l()(),r.Z(16777216,null,null,1,null,a)),r._3(57,802816,null,0,I.i,[r.N,r.K,r.s],{ngForOf:[0,"ngForOf"]},null),(l()(),r._25(-1,null,["\n\n        "])),(l()(),r._25(-1,null,["\n    "])),(l()(),r._25(-1,1,["\n\n"])),(l()(),r._25(-1,null,["\n"]))],function(l,n){var u=n.component;l(n,9,0,"");l(n,14,0,"");l(n,19,0,"menu");l(n,40,0,u.isCourier());l(n,43,0,!u.isCourier());l(n,47,0,"");l(n,52,0,"");l(n,57,0,u.completedOrders)},function(l,n){l(n,3,0,r._18(n,4)._hidden,r._18(n,4)._sbPadding);l(n,12,0,r._18(n,14).isHidden);l(n,18,0,r._18(n,19)._hidden);l(n,24,0,r._18(n,25).statusbarPadding,r._18(n,25)._hasRefresher)})}Object.defineProperty(n,"__esModule",{value:!0});var r=u(0),s=(u(2),u(15),u(43)),i=u(152),c=u(62),_=function(){function l(l,n,u,t,e){this.navCtrl=l,this.orderService=n,this.userService=u,this.authenticationService=t,this.modalCtrl=e,this.completedOrders=[],this.initProfile()}return l.prototype.ionViewDidEnter=function(){var l=this;this.isCustomer()?this.orderService.getOrders("dateUpdated","asc",1,4).subscribe(function(n){n.success&&(l.completedOrders=n.orders.filter(function(l){return"DELIVERED"===l.state||"NOT-DELIVERED"===l.state}))}):this.isCourier()&&this.orderService.getCourierOrders("dateUpdated","asc",1,4).subscribe(function(n){n.success&&(l.completedOrders=n.orders.filter(function(l){return"DELIVERED"===l.state||"NOT-DELIVERED"===l.state}),console.log(l.completedOrders))})},l.prototype.initProfile=function(){var l=this;this.userService.getUserProfile().then(function(n){n.success&&n.profile&&(console.log(n),l.profile=n.profile,l.wallet=n.wallet)})},l.prototype.orderDetailModal=function(l){this.modalCtrl.create(this.isCourier()?"OrderStatusCourierPage":"OrderStatusPage",{orderId:l}).present()},l.prototype.isCourier=function(){return this.userService.isLoggedAsCourier()},l.prototype.isCustomer=function(){return this.userService.isLoggedAsCustomer()},l}(),d=u(153),b=u(145),f=function(){return function(){}}(),k=u(367),g=u(368),m=u(369),h=u(370),p=u(371),v=u(372),C=u(373),E=u(374),y=u(375),D=u(168),O=u(48),x=u(170),I=u(14),w=u(42),F=u(3),S=u(150),L=u(6),P=u(465),R=u(49),V=u(10),$=u(23),j=u(464),N=u(146),T=u(61),H=u(41),M=u(21),B=u(154),K=u(26),U=u(151),Z=u(376),q=u(24),A=u(5),J=u(11),X=u(29),z=u(169),G=u(94),Q=r._2({encapsulation:2,styles:[],data:{}}),W=r._0("page-order-history",_,function(l){return r._27(0,[(l()(),r._4(0,0,null,null,1,"page-order-history",[],null,null,null,o,Q)),r._3(1,49152,null,0,_,[$.a,i.a,c.a,s.a,G.a],null,null)],null,null)},{},{},[]),Y=u(20),ll=u(25),nl=u(147),ul=u(44);u.d(n,"OrderHistoryModuleNgFactory",function(){return tl});var tl=r._1(f,[],function(l){return r._15([r._16(512,r.i,r.X,[[8,[k.a,g.a,m.a,h.a,p.a,v.a,C.a,E.a,y.a,W]],[3,r.i],r.v]),r._16(4608,I.l,I.k,[r.u,[2,I.t]]),r._16(4608,Y.v,Y.v,[]),r._16(4608,Y.d,Y.d,[]),r._16(5120,O.g,b.b,[ll.c]),r._16(4608,O.c,O.f,[]),r._16(4608,O.i,O.d,[]),r._16(4608,O.b,O.a,[]),r._16(4608,O.k,O.k,[O.n,O.g,O.c,O.i,O.b,O.l,O.m]),r._16(512,d.a,d.a,[]),r._16(512,I.b,I.b,[]),r._16(512,Y.s,Y.s,[]),r._16(512,Y.i,Y.i,[]),r._16(512,Y.q,Y.q,[]),r._16(512,nl.a,nl.a,[]),r._16(512,nl.b,nl.b,[]),r._16(512,O.h,O.h,[]),r._16(512,b.a,b.a,[]),r._16(512,f,f,[]),r._16(256,O.m,void 0,[]),r._16(256,O.l,void 0,[]),r._16(256,ul.a,_,[])])})},464:function(l,n,u){"use strict";function t(l){return e._27(2,[(l()(),e._4(0,0,null,null,2,"div",[["class","toolbar-title"]],null,null,null,null,null)),e._3(1,278528,null,0,a.h,[e.s,e.t,e.k,e.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e._17(null,0)],function(l,n){l(n,1,0,"toolbar-title","toolbar-title-"+n.component._mode)},null)}u.d(n,"a",function(){return o}),n.b=t;var e=u(0),a=u(14),o=(u(3),e._2({encapsulation:2,styles:[],data:{}}))},465:function(l,n,u){"use strict";function t(l){return e._27(0,[(l()(),e._4(0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),e._3(1,278528,null,0,a.h,[e.s,e.t,e.k,e.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e._4(2,0,null,null,8,"button",[["class","back-button"],["ion-button","bar-button"]],[[8,"hidden",0]],[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.backButtonClick(u)&&t}return t},o.b,o.a)),e._3(3,278528,null,0,a.h,[e.s,e.t,e.k,e.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e._3(4,1097728,null,0,r.a,[[8,"bar-button"],s.a,e.k,e.E],null,null),(l()(),e._4(5,0,null,0,2,"ion-icon",[["class","back-button-icon"],["role","img"]],[[2,"hide",null]],null,null,null,null)),e._3(6,278528,null,0,a.h,[e.s,e.t,e.k,e.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e._3(7,147456,null,0,i.a,[s.a,e.k,e.E],{name:[0,"name"]},null),(l()(),e._4(8,0,null,0,2,"span",[["class","back-button-text"]],null,null,null,null,null)),e._3(9,278528,null,0,a.h,[e.s,e.t,e.k,e.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e._25(10,null,["",""])),e._17(null,0),e._17(null,1),e._17(null,2),(l()(),e._4(14,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),e._3(15,278528,null,0,a.h,[e.s,e.t,e.k,e.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e._17(null,3)],function(l,n){var u=n.component;l(n,1,0,"toolbar-background","toolbar-background-"+u._mode);l(n,3,0,"back-button","back-button-"+u._mode);l(n,6,0,"back-button-icon","back-button-icon-"+u._mode);l(n,7,0,u._bbIcon);l(n,9,0,"back-button-text","back-button-text-"+u._mode);l(n,15,0,"toolbar-content","toolbar-content-"+u._mode)},function(l,n){var u=n.component;l(n,2,0,u._hideBb);l(n,5,0,e._18(n,7)._hidden);l(n,10,0,u._backText)})}u.d(n,"a",function(){return c}),n.b=t;var e=u(0),a=u(14),o=u(41),r=u(21),s=u(3),i=u(42),c=(u(6),u(23),e._2({encapsulation:2,styles:[],data:{}}))}});